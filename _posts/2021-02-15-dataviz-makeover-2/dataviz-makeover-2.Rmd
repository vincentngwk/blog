---
title: "DataViz Makeover 2"
description: |
  DataViz Makeover 2 provides a do-over for the given charts from a research team working on Covid-19 vaccine responses data.
author:
  - name: Ng Wee Kien (Vincent)
    url: https://www.linkedin.com/in/ngweekiensg/
date: 02-15-2021
output:
  distill::distill_article:
    self_contained: false
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


# 1.0 Section A
Critic the graph from both its clarity and aesthetics.  At least three from each evaluation criterion.



* Clarity:



* Aesthetics:



# 2.0 Section B


* Advantages:



# 3.0 Section C
Using Tableau, design the proposed data visualization.

The final dashboard can be accessed here: 
TO ADD TABLEAU PUBLIC LINK HERE!

# 4.0 Section D
Provide step-by-step description on how the data visualization was prepared.

*Part 1: Bringing the data in
  + After downloading the data files, unzip the folders and ensure they are all in the same location. Drag the 1st file ("australia.csv") into Tableau. Select the New Union function to import the chosen countries data using a manual connection. Note: Upon inspecting the raw data in excel, for 'Sweden.csv', column header 'record' had to be changed to 'RecordNo' to be consistent with the other data files.
  
![Importing data and performing a Union](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/1_import_data_union.JPG)

  + Select all the columns that we do not want to use, right-click, and select Hide
![Removing unnecessary columns](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/2_hide_data_columns.jpg)

*Part 2: Creating a Likert Chart (Tableau)

  + Create calculated fields for the various survey question responses. The original data has 1 as Strongly Agree, 3 as Neutral, and 5 as Strongly Disagree. For ease of understanding to the general user, we will remap the scores in reverse order. The remapped score will have 1 as Strongly Disagree, 3 as Neutral, and 5 as Strongly Agree.
![Creating Remapped Scores for survey responses](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/remapped_scores_overview.jpg)
![Creating Remapped Scores for survey responses - Example for vac1_score](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/vac1_score.jpg)

  + Create a Parameter: Survey Text. This is a String data type parameter. This is for users to choose which survey question to visualize and analyze. We will map the relevant display values as the respective survey text questions.
![Creating Parameter: Survey Text](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/parameter_surverytext.jpg)

  + Create a calculated field: Selected. This picks out what value the users chose in the Survey Text parameter, and the respective visualizations model those responses.
![Creating Parameter: Survey Text](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/selected.jpg)

  + Create a calculated field for Age Group
![Creating Age Group](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/3_agegroup.jpg)

  + Create a calculated field for Household Size Groups
![Creating Household Size Groups](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/4_householdsize_group.jpg)

  + Create calculated field: Number of records. This is just a constant value of 1.

  + Create calculated field: Total Count
![Creating Total Count](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/total_count.jpg)

  + Create calculated field: Count Negative
![Creating Count Negative](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/countnegative.jpg)

  + Create calculated field: Total Count Negative
![Creating Total Count Negative](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/totalcountnegative.jpg)

  + Create calculated field: Percentage
![Creating Percentage](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_percentage.jpg)

  + Create calculated field: Gantt Start
![Creating Gantt Start](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_ganttstart.jpg)
  
  + Create calculated field: Gantt Percent
![Creating Gantt Percent](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_ganttpercent.jpg)

  + Bring Country to Rows, and Gantt Percent to Columns
![Setting Rows and Columns](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_cols_rows.jpg)

  + Change Marks from Automatic to Gantt Bar
![Changing to Gantt Bar](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_markto_ganttbar.jpg)

  + Bring Selected to Colour and Detail, Percentage to Size and Label
![Bringing Selected and Percentage to Marks settings](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_fields_to_marks_setting.jpg)

  + Bring Selected to Filters, and deselect Null values
![Bringing Selected to Filters and removing null values](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_selected_to_filter.jpg)

  + Ensure that Percentage (Size and Label), and Gantt Percent are toggled to compute using Selected. 
![Compute using Selected](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_compute_using_selected.jpg)

  + Change view from Standard to Entire View

  + Edit title of Legend ("Selected") to "Responses"

  + Right click on Survey Text Parameter and select Show Parameter

  + Add Reference Line to X axis of Likert chart by right clicking on the X axis. Change the settings to picture shown below.
![Add Reference Line to X axis](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_addreferenceline.jpg)

  + Change format of X axis to percentage with 0 decimal points
![Change format of X axis to percentage](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_format_xaxis_topercentage.jpg)

  + Change format of Percentage field to 1 decimal point

  + Change title of X axis to "Survey Responses as Proportion of Total Responses"

  + Change Label settings to align to middle and make font size smaller
![Change format of Label settings](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_change_label_format.jpg)


*Part 3: Creating Confidence Interval Error Bar charts

  + Create a calculated field for Strongly Agree Single Count. We are creating counts for responses with "Strongly Agree".
![Create calculated field for Strongly Agree Single Count](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/CI_stronglyagreesinglecount.jpg)

  + Create a calculated field for Prop. We want to find out the proportion of responses which gave "Strongly Agree".
CI_prop.jpg

  + Go back to the Likert chart, and sort Country (rows) by Prop under Field. This allows us to sort in descending order for countries with highest to lowest proportions of responses with "Strongly Agree".
![Sort Country in Likert Chart by Prop](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/likert_sort_country_prop.jpg)

  + Create calculated field for Prop SE

  + Create calculated field for Z_95%

  + Create calculated field for Prop_Margin of Error 95%

  + Create calculated field for Prop_Lower Limit 95%

  + Create calculated field for Prop_Upper Limit 95%

  + Move Country to Rows, Prop to Columns
  
  + Change Mark for Props from Automatic (line) to Circle
  
  + Move Measure Values to upper secondary horizontal axis
![Move Measure Values to upper horizontal axis](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/CI_measurevalues_upper_axis.jpg)

  + Edit the filter for Measure Names, and keep only 2 measures: Prop_Lower Limit 95% and Prop_Upper Limit 95%.
![Add Measure Values, keep only Upper and Lower limit 95%](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/CI_keep_only2measurenames.jpg)

  + Move Selected to Filters, and uncheck 'Null' values.

  + Change Measure Values from Circle to Line. Press Ctrl+Click and drag measure values to Path and repeat the same to Colour.
![Change from circle to line, add Measure Names to other roles.](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/CI_measurenames_duplicate.jpg)

  + Right click on the X axis with a smaller range of values, and select Synchronize axis
![Synchronize horizontal axis](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/CI_synchronize_axis.jpg)

  + Under AGG(Prop) mark, change Measure Names from Detail to Colour.

  + Change colors of Measure Names (on right side) as required
![Change colors of Measure Names](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/CI_change_measurename_colors.jpg)

  + Under columns, change the order of Measure Values and AGG(Prop). This allows AGG(Prop) Circle to appear 'in front of' Measure Values Line.

  + Change the format of both X-axis to percentage, with 0 decimal points.

  + Change the view from Standard to Entire View
  
  + Under Rows, Country, Sort by Field > Prop in descending manner. (similar to the Likert Chart)

  + Turn on Animations, and change settings as desired.
![Turn on, and change Animation settings](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/CI_animationsettings.jpg)

  + Right click on the upper horizontal axis, and uncheck Show Header.
![Uncheck upper horizontal axis header](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/CI_uncheckshowheader.jpg)

  + Edit the lower horizontal axis title to "Proportion of "Strongly Agree" responses (with 95% CI bands)"

  + Right click on Country on the vertical axis, and change the font color to black, font size to 9, and Alignment to Centre.

  + Right click on Parameter Survey Text, and select Show Parameter.

*Part 4: Creating the dashboard

![Creating the Dashboard](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/dashboard_v1.jpg)

  + 1) Toggle the size of the dashboard to Automatic
  
  + 2) Drag in the Likert Chart, change the legend to floating, and resize accordingly as a single row above the chart.
  
  + 3) Drag in the Confidence Interval Error Bar Chart
  
  + 4) Add the relevant filters for demographics into the dashboard
![Expose filters on the dashboard](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/dashboard_exposing_filters.jpg)

  + 5) Add a text box on the top left, adjust the contents as shown.
![Add text boxes](E:/vincentngwk/blog/_posts/2021-02-15-dataviz-makeover-2/dashboard_textbox1_title.jpg)

  + 6) Expose the Survey Text parameter and place it on the top right of the dashboard.
  
  + 7) Add Blank objects around the dashboard to resize the layout accordingly.
  
  + 8) Add text boxes at the bottom to cite the data source and link.





# 5.0 Section E
Describe three major observations revealed by the data visualization prepared.




